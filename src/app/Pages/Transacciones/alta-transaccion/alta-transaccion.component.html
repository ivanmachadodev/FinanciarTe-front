<div class="p-5 mx-3">
  <div class="row p-2">
    <div class="col-lg-10 col-md-10 col-sm-12">
        <h1>Nueva Transacci√≥n</h1>
    </div>
  </div>
  <hr>
  <br>
  <div class="table-container">
    <form [formGroup]="form">
      <div class="row py-3">
        <div class="col-lg-2 col-md-3 col-sm-12">
          <h3>Entidad Financiera: </h3>
        </div>
        <div class="col-lg-2 col-md-3 col-sm-12">
          <select class="form-select form-select-sm" id="idEntidadFinanciera" formControlName="idEntidadFinanciera" required [class.red-icon]="this.form.get('idEntidadFinanciera')?.invalid">
            <option [ngValue]="null">Seleccione una entidad</option>
            <option *ngFor="let ef of entidadesF" [ngValue]=" ef.id ">{{ ef.descripcion }}</option>
          </select>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12">
          <button type="button" class="btn button-primary-action" (click)="guardar()">Enviar</button>
        </div>
      </div>
      <br>
      <hr>
      <br>
      <div class="container">
        <div class="row">
          <div class="col-lg-1 col-md-1 col-sm-6">
            <h2>Detalles</h2>
          </div>
          <div class="col-lg-1 col-md-1 col-sm-6">
            <i type="button" class="fa-solid fa-circle-plus fa-2xl" style="color: #005F5A;" (click)="newDetalleForm()"></i>
          </div>
        </div>
      </div>
      <ng-container [formArrayName]="'detalleTransacciones'" *ngFor="let dt of detalleTransacciones.controls; let i = index">
        <div class="row my-3" [formGroupName]="i">
          <div class="col-lg-4 col-md-4 col-sm-12">
            <select class="form-select form-select-sm" id="idCategoria" formControlName="idCategoria" required [class.red-icon]="this.form.get('idCategoria')?.invalid">
              <option [ngValue]="null">Seleccione una categoria</option>
              <option *ngFor="let c of categorias" [ngValue]=" c.id ">{{ c.descripcion }}</option>
            </select>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12">
            <input type="text" class="form-control form-control-sm" id="detalle" formControlName="detalle">
          </div>
          <div class="col-lg-2 col-md-2 col-sm-12">
            <input type="text" class="form-control form-control-sm" id="monto" formControlName="monto">
          </div>
          <div class="col-lg-1 col-md-1 col-sm-12">
            <i type="button" class="fa-solid fa-trash fa-xl" style="color: #f0643c;" (click)="deleteDetalleForm(i)"></i>
          </div>
        </div>
      </ng-container>
    </form>
  </div>
</div>

